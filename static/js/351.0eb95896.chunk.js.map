{"version":3,"file":"static/js/351.0eb95896.chunk.js","mappings":"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","sources":["components/EditFolder/index.js","firebase/firebase.js","feature/crud.js","sgv/sgvBack.js","store/Context.js","store/actions.js"],"sourcesContent":["import { useCallback, useContext, useEffect } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport Context from \"../../store/Context\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { updateFolderFromFireStore } from \"../../feature/crud\";\r\nimport sgvBack from \"../../sgv/sgvBack\";\r\n\r\nfunction EditFolder() {\r\n    const { folderId } = useParams();\r\n    const [folder, dispatch] = useContext(Context);\r\n    const navigate = useNavigate();\r\n    const { register, handleSubmit, setFocus, formState: { errors } } = useForm({\r\n        mode: \"onBlur\",\r\n        defaultValues: {\r\n            name: folder[folderId]?.name\r\n        }\r\n    });\r\n\r\n    const handleSubmitEdit = useCallback((data) => {\r\n        // dispatch(editFolder(folderId, data.name));\r\n        if (window.confirm(\"Please confirm you want to change ?\")) {\r\n            updateFolderFromFireStore(folder[folderId].id, data.name)\r\n            navigate(\"/\");\r\n        }\r\n    }, [])\r\n\r\n    const backPage = useCallback(() => {\r\n        navigate(-1);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setFocus('name')\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"edit-folder\">\r\n            <div className=\"gradient\">\r\n                <h1>Edit Folder</h1>\r\n            </div>\r\n            <h3>Name Folder</h3>\r\n            <form onSubmit={handleSubmit(handleSubmitEdit)}>\r\n                <div className=\"wrapper-edit\">\r\n                    <div className=\"edit\">\r\n                        <input type=\"text\" {...register(\"name\", {\r\n                            required: \"Please enter before pressing submit\",\r\n                            pattern: {\r\n                                value: /^([^!@#$&%^()-_=+<>?;:'\"{[}]\\|.,`~*]|[a-zA-Z0-9 ])+$/,\r\n                                message: \"Please enter before pressing submit\"\r\n                            }\r\n                        })} />\r\n                    </div>\r\n                    {errors.name?.type === 'required' && <p>{errors.name.message}</p>}\r\n                    {errors.name?.type === 'pattern' && <p>{errors.name.message}</p>}\r\n                </div>\r\n                <button>Save</button>\r\n            </form>\r\n            <div className=\"back\" onClick={backPage}>{sgvBack}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditFolder;","import { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from \"@firebase/firestore\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID,\r\n    measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nconst analytics = getAnalytics(app);\r\nconst db = getFirestore(app);\r\n\r\nexport { db };","import { addDoc, arrayUnion, collection, deleteDoc, doc, getDocs, orderBy, query, updateDoc } from \"firebase/firestore\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { db } from \"../firebase/firebase\";\r\nimport { loadData } from \"../store/actions\";\r\n\r\n\r\nconst usersCollectionRef = collection(db, \"todos\");\r\nconst queryRef = query(usersCollectionRef, orderBy(\"name\"));\r\nconst removeTodo = (list, indexId) => {\r\n    return list.slice(0, indexId).concat(list.slice(indexId + 1));\r\n}\r\n\r\nconst getDataFromFireStore = async (dispatch) => {\r\n    const data = await getDocs(queryRef);\r\n    dispatch(loadData(data.docs.map((doc) => ({ ...doc.data(), id: doc.id }))))\r\n}\r\n\r\nconst addFolderFromFireStore = (name) => {\r\n    const docRef = addDoc(usersCollectionRef, {\r\n        name,\r\n        list: []\r\n    })\r\n    docRef\r\n        .then(() => {\r\n            console.log(\"Add success\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst deleteFolderFromFireStore = (docId) => {\r\n    const docToUpdate = doc(db, \"todos\", docId);\r\n    deleteDoc(docToUpdate)\r\n        .then(() => {\r\n            console.log(\"Xoa thanh cong\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst updateFolderFromFireStore = (docId, name) => {\r\n    const docToUpdate = doc(db, \"todos\", docId);\r\n    updateDoc(docToUpdate, {\r\n        name\r\n    })\r\n        .then(() => {\r\n            console.log(\"Cap nhat thanh cong\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst addTodoFromFireStore = (docId, content, date, priority, todo, completed) => {\r\n    const docToUpdate = doc(db, \"todos\", docId);\r\n    updateDoc(docToUpdate, {\r\n        list: arrayUnion({\r\n            id: uuidv4(),\r\n            content,\r\n            date,\r\n            priority,\r\n            todo,\r\n            completed\r\n        })\r\n    })\r\n        .then(() => {\r\n            console.log(\"Them thanh cong\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst updateTodoFromFireStore = (docId, todoId, list, content, date, priority, todo, completed) => {\r\n    const docToUpdate = doc(db, \"todos\", docId);\r\n    const newList = [...list];\r\n    newList[todoId] = {\r\n        ...newList[todoId],\r\n        content: content,\r\n        date: date,\r\n        completed: completed,\r\n        priority: priority,\r\n        todo: todo\r\n    };\r\n    updateDoc(docToUpdate, {\r\n        list: [\r\n            ...newList\r\n        ]\r\n    })\r\n        .then(() => {\r\n            console.log(\"Cap nhat thanh cong\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst deleteTodoFromFireStore = (list, docId, indexId) => {\r\n    const docToUpdate = doc(db, \"todos\", docId);\r\n    updateDoc(docToUpdate, {\r\n        list: [\r\n            ...removeTodo(list, indexId)\r\n        ]\r\n    })\r\n        .then(() => {\r\n            console.log(\"Xoa thanh cong\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nconst completeTodo = (docId, todoId, list, completed) => {\r\n    const docToUpdate = doc(db, \"todos\", docId);\r\n    const newList = [...list];\r\n    newList[todoId] = {\r\n        ...newList[todoId],\r\n        completed: !completed,\r\n    };\r\n    updateDoc(docToUpdate, {\r\n        list: [\r\n            ...newList\r\n        ]\r\n    })\r\n        .then(() => {\r\n            console.log(\"Cap nhat thanh cong\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n}\r\n\r\nexport {\r\n    usersCollectionRef,\r\n    queryRef,\r\n    getDataFromFireStore,\r\n    addFolderFromFireStore,\r\n    deleteFolderFromFireStore,\r\n    updateFolderFromFireStore,\r\n    addTodoFromFireStore,\r\n    updateTodoFromFireStore,\r\n    deleteTodoFromFireStore,\r\n    completeTodo\r\n};\r\n","const sgvBack = <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 256 512\"><path d=\"M192 448c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L77.25 256l137.4 137.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448z\" /></svg>;\r\n\r\nexport default sgvBack;","import { createContext } from \"react\";\r\n\r\nconst Context = createContext();\r\n\r\nexport default Context;","import { type } from '@testing-library/user-event/dist/type';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst addTodoInFolder = (folderId, content, date, priority, todo, complete) => {\r\n    return {\r\n        type: \"ADD_TODO\",\r\n        payload: {\r\n            folderId,\r\n            id: uuidv4(),\r\n            content,\r\n            date,\r\n            priority,\r\n            todo,\r\n            complete\r\n        }\r\n    }\r\n}\r\n\r\nconst editNoteInFolder = (folderId, todoId, content, date, priority, todo, complete) => {\r\n    return {\r\n        type: \"EDIT_TODO\",\r\n        payload: {\r\n            folderId,\r\n            todoId,\r\n            content,\r\n            date,\r\n            priority,\r\n            todo,\r\n            complete\r\n        }\r\n    }\r\n}\r\n\r\nconst deleteNoteInFolder = (folderId, todoId) => {\r\n    return {\r\n        type: \"DELETE_TODO\",\r\n        payload: {\r\n            folderId,\r\n            todoId\r\n        }\r\n    }\r\n}\r\n\r\nconst completeNote = (folderId, isCompleted, todoId) => {\r\n    return {\r\n        type: \"COMPLETE_TODO\",\r\n        payload: {\r\n            folderId,\r\n            isCompleted,\r\n            todoId\r\n        }\r\n    }\r\n}\r\n\r\nconst addFolder = (name) => {\r\n    return {\r\n        type: \"ADD_FOLDER\",\r\n        payload: {\r\n            id: uuidv4(),\r\n            name\r\n        }\r\n    }\r\n}\r\n\r\nconst deleteFolder = (folderId) => {\r\n    return {\r\n        type: \"DELETE_FOLDER\",\r\n        payload: {\r\n            folderId\r\n        }\r\n    }\r\n}\r\n\r\nconst editFolder = (folderId, name) => {\r\n    return {\r\n        type: \"EDIT_FOLDER\",\r\n        payload: {\r\n            folderId,\r\n            name\r\n        }\r\n    }\r\n}\r\n\r\nconst loadData = (data) => {\r\n    return {\r\n        type: \"LOAD_DATA\",\r\n        payload: {\r\n            data\r\n        }\r\n    }\r\n}\r\n\r\nexport {\r\n    addTodoInFolder,\r\n    editNoteInFolder,\r\n    deleteNoteInFolder,\r\n    completeNote,\r\n    addFolder,\r\n    deleteFolder,\r\n    editFolder,\r\n    loadData\r\n};"],"names":["folderId","useParams","useContext","Context","folder","navigate","useNavigate","useForm","mode","defaultValues","name","register","handleSubmit","setFocus","errors","formState","handleSubmitEdit","useCallback","data","window","confirm","updateFolderFromFireStore","id","backPage","useEffect","className","onSubmit","type","required","pattern","value","message","onClick","sgvBack","app","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getAnalytics","getFirestore","usersCollectionRef","collection","queryRef","query","orderBy","removeTodo","list","indexId","slice","concat","addFolderFromFireStore","addDoc","then","console","log","catch","err","deleteFolderFromFireStore","docId","docToUpdate","doc","deleteDoc","updateDoc","addTodoFromFireStore","content","date","priority","todo","completed","arrayUnion","uuidv4","updateTodoFromFireStore","todoId","newList","deleteTodoFromFireStore","completeTodo","xmlns","viewBox","d","createContext","loadData","payload"],"sourceRoot":""}